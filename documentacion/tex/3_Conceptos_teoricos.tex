\capitulo{3}{Conceptos teóricos}

Las partes del proyecto con mayor desconocimiento y complejidad están enfocadas principalmente en el funcionamiento del bus CAN y en el desarrollo del hardware, el cual requiere de unos conocimientos básicos y unas metodologías específicas las cuales serán detalladas a continuación:

Bus CAN

El bus CAN (\emph{Controller Area Network}) es un protocolo desarrollado para la comunicación entre los distintos micro-controladores y dispositivos que son necesarios para el funcionamiento de un vehículo. Este protocolo no necesita de un host principal, sino que sigue una topología de tipo "bus".

Este protocolo está basado en el uso de mensajes para el intercambio de información entre los distintos dispositivos que lo componen.

Es utilizado en multitud de escenarios como la aviación, la navegación, la automatización industrial, instrumentos médicos, maquinaria pesada y ascensores entre otros.


Nodo:
Cada uno de los dispositivos físicos que están conectados a la red CAN. Al menos es necesario que existan dos nodos conectados a la red para que se produzca una comunicación.


Cada uno de los nodos es capaz de enviar y recibir mensajes, pero no simultáneamente. 

FOTO DE UN SOLO NODO.

Frame:
Cada uno de los mensajes enviados a través de la red CAN. Estos contienen 3 campos en los que nos centraremos: ID, Length y Data.

ID: Se trata del identificador del Frame. A través de el, se establece la prioridad que tiene ese Frame durante el acceso al bus de datos.

Length: En este campo, se define la longitud del campo de datos del Frame. En las versiones estándar, esta longitud puede ir desde 0 hasta 8 bytes de datos.

Data:


Bitriate: Se trata de la velocidad a la que los datos son transmitidos a través del bus. Todos los nodos deben de transmitir a la misma velocidad. Esta, puede cambiar dependiendo de los sistemas. Los valores más comunes son 			     10000 bit/s, 20000 bit/s, 50000 bit/s, 100000 bit/s, 125000 bit/s, 250000 bit/s, 500000 bit/s, 800000 bit/s y  1000000 bit/s.

Además, el estándar dispone de varias medidas para la detección de errores y seguridad las cuales no son relevantes para la exposición de este proyecto.

A través del bus CAN, es posible el flujo de datos a distintas velocidades de forma simultanea, a través de los mismos cables. Lo que no es posible, es la lectura de datos a dos velocidades distintas, por lo que se desarrolló un hardware específico para dicha tarea.



Siguiendo el modelo OSI, el estándar bus CAN especifica únicamente las dos primeras capas:

Capa física: Esta capa define como son transmitidas las señales a nivel eléctrico. 

Capa de enlace de datos:


CanBus
Esquemas can
Explicación ID
Explicación Velocidad
Explicación hardware
Explicación señales low-level
Explicación capas del canbus
Explicación modo activo-listenonly

Explicación conceptos de hardware:

PCB:


Footprint: Hace referencia al espacio necesario para colocar un elemento del hardware.

Gerber: Se trata de un formato de fichero el cual contiene la información necesaria para realizar la fabricación de una PCB (Placa de Circuito Impreso).


\section{Secciones}

Las secciones se incluyen con el comando section.

\subsection{Subsecciones}

Además de secciones tenemos subsecciones.

\subsubsection{Subsubsecciones}

Y subsecciones. 


\section{Referencias}

Las referencias se incluyen en el texto usando cite \cite{wiki:latex}. Para citar webs, artículos o libros \cite{koza92}.


\section{Imágenes}

Se pueden incluir imágenes con los comandos standard de \LaTeX, pero esta plantilla dispone de comandos propios como por ejemplo el siguiente:

\imagen{escudoInfor}{Autómata para una expresión vacía}



\section{Listas de items}

Existen tres posibilidades:

\begin{itemize}
	\item primer item.
	\item segundo item.
\end{itemize}

\begin{enumerate}
	\item primer item.
	\item segundo item.
\end{enumerate}

\begin{description}
	\item[Primer item] más información sobre el primer item.
	\item[Segundo item] más información sobre el segundo item.
\end{description}
	
\begin{itemize}
\item 
\end{itemize}

\section{Tablas}

Igualmente se pueden usar los comandos específicos de \LaTeX o bien usar alguno de los comandos de la plantilla.

\tablaSmall{Herramientas y tecnologías utilizadas en cada parte del proyecto}{l c c c c}{herramientasportipodeuso}
{ \multicolumn{1}{l}{Herramientas} & App AngularJS & API REST & BD & Memoria \\}{ 
HTML5 & X & & &\\
CSS3 & X & & &\\
BOOTSTRAP & X & & &\\
JavaScript & X & & &\\
AngularJS & X & & &\\
Bower & X & & &\\
PHP & & X & &\\
Karma + Jasmine & X & & &\\
Slim framework & & X & &\\
Idiorm & & X & &\\
Composer & & X & &\\
JSON & X & X & &\\
PhpStorm & X & X & &\\
MySQL & & & X &\\
PhpMyAdmin & & & X &\\
Git + BitBucket & X & X & X & X\\
Mik\TeX{} & & & & X\\
\TeX{}Maker & & & & X\\
Astah & & & & X\\
Balsamiq Mockups & X & & &\\
VersionOne & X & X & X & X\\
} 
